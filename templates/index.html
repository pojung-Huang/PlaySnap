<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>蛇來蛇趣</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
    
    <script src="https://www.youtube.com/iframe_api"></script>
</head>
<body>
    <div class="title-container">
        <div class="title-left">
            <button class="title-button snake-btn">蛇</button><button class="title-button what-btn" style="margin-left: -10px;">來蛇趣</button>
        </div>
        <button class="title-button LeaderboardBTN">🏆</button>
        <button class="title-button GameRulesBTN">📜</button>
        <button class="title-button MusicSettingsBTN">🎵</button>
    </div>

    <!-- 添加  音樂設定 彈出視窗 - 放在 container 之前 -->
    <div class="music-settings-box" id="MusicSettingsBox">
        <a class="modal-close" id="MusicSettingsBoxClose">×</a>
        <h1>音樂設定</h1>
        <div class="music-settings-content">
            <div class="bg-upload">
                <div style="display: flex; gap: 10px; margin-bottom: 10px;"></div>                
                <!-- YouTube 影片設定 -->
                <input 
                    type="text" 
                    id="youtubeUrl" 
                    placeholder="輸入 YouTube 網址或嵌入代碼"
                    style="width: 100%; 
                           padding: 10px; 
                           margin-bottom: 10px;
                           border: 1px solid #ccc;
                           border-radius: 5px;
                           box-sizing: border-box;"
                    value="https://www.youtube.com/watch?v=kgMs_66xlFM"
                >
                <!-- YouTube 按鈕 - 並排 -->
                <div style="display: flex; gap: 10px;">
                    <button onclick="setYoutubeBackground()" class="upload-label" style="flex: 1;">
                        設定影片背景
                    </button>
                    <button onclick="resetYoutubeBackground()" class="reset-btn" style="flex: 1;">
                        重設影片背景
                    </button>
                </div>
                
                <!-- 新增影片控制按鈕 -->
                <div style="display: flex; gap: 10px; margin-top: 10px;">
                    <button onclick="playVideo()" class="upload-label" style="flex: 1;">
                        ▶
                    </button>
                    <button onclick="pauseVideo()" class="upload-label" style="flex: 1;">
                        ⏸
                    </button>
                    <button onclick="toggleMute()" class="upload-label" style="flex: 1;">
                        🔇
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- 添加 排行榜 彈出視窗 - 放在 container 之前 -->
    <div class="leaderboard-box" id="LeaderboardBox">
        <a class="modal-close" id="LeaderboardBoxClose">×</a>
        <h1>排行榜</h1>
        <div class="leaderboard-content">
            <div class="leaderboard-list">
                <div class="leaderboard-item">
                    <div class="leaderboard-item-content">
                        <span class="rank">1</span>
                        <span class="name">玩家一</span>
                        <span class="score">100</span>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- 添加 遊戲規則 彈出視窗 - 放在 container 之前 -->
    <div class="game-rules-box" id="GameRulesBox">
        <a class="modal-close" id="GameRulesBoxClose">×</a>
        <h1>遊戲規則</h1>
        <!-- 規則內容 -->
        <div class="rules-content" id="rulesContent">
            <div class="rules-inner">
                <p>基本規則：</p>
                    <ul>
                        <li>1.使用方向鍵控制蛇的移動方向</li>
                        <li>2.撞到自己身體遊戲結束</li>
                        <li>3.無邊界，可穿牆從畫面另一邊穿出來</li>
                    </ul>
                    <p>✨ 特殊水果</p>
                    <ul>
                        <li>🌟 星星：長度+5（需達 1000 分解鎖）</li>
                        <li>⚡ 閃電：加速10秒（需達 1200 分解鎖）</li>
                        <li>✂️ 剪刀：長度減半（需達 2000 分解鎖）</li>
                    </ul>
                    <p>🟡 進階水果（解鎖條件）： </p>
                    <ul>
                        <li>🍊 橘子：得分 20（需達 50 分解鎖）</li>
                        <li>🍇 葡萄：得分 25（需達 100 分解鎖）</li>
                        <li>🍉 西瓜：得分 30（需達 200 分解鎖）</li>
                        <li>🍌 香蕉：得分 35（需達 300 分解鎖）</li>
                        <li>🍓 草莓：得分 40（需達 400 分解鎖）</li>
                        <li>🍑 桃子：得分 50（需達 500 分解鎖）</li>
                    </ul>
                    <p>🟢 基礎水果： </p>
                    <ul>
                        <li>🍎 蘋果：得分 10</li>
                        <li>🍐 梨子：得分 15</li>
                    </ul>
            </div>
        </div>
    </div>


    <div class="container">
        <div class="game-section">
            <div class="canvas-container">
                <canvas id="gameCanvas"></canvas>
                <div class="start-button-container">
                    <button onclick="startGame()" class="start-button">
                        <span class="snake-icon">🐍</span>
                        <span class="button-text">開始遊戲</span>
                    </button>
                </div>
            </div>


            <div class="game-controls">
                <div class="controls-content">
                    <div id="score">分數：<span id="scoreValue">0</span>
                    <div id="length">長度：<span id="lengthValue">0</span>
                    </div>
                </div>
            </div>
            
        </div>
    </div>

    <script src="{{ url_for('static', filename='js/game.js') }}"></script>
</body>
</html> 